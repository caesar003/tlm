.\" Manpage for tlm
.TH TLM 1 "Aug 2025" "{{VERSION}}" "Tmux Layout Manager Manual"
.SH NAME
tlm \- Tmux Layout Manager
.SH SYNOPSIS
.B tlm
.RI [OPTIONS]
.SH DESCRIPTION
The Tmux Layout Manager (tlm) is a command-line tool for managing Tmux layouts. It allows users to load predefined layouts with flexible session naming, list available options, and edit layout configurations.

.SH OPTIONS
.TP
.B \-i, --init [layout_name] [session_name]
Load the specified Tmux layout with optional custom session name. If layout_name is provided, it will load the corresponding layout file (e.g., 'node.json'). If session_name is provided, it will be used as the base name for the tmux session.
.TP
.B \-l, --list
List available layouts.
.TP
.B \-d, --detail [layout_name]
Show detailed information about layouts. If no layout_name is provided, displays system information and a summary of all available layouts. If a specific layout_name is provided, shows comprehensive details including window configuration, pane splits, and raw JSON structure.
.TP
.B \-e, --edit [layout_name]
Edit the specified layout file using the configured editor. If no layout_name is provided, edits the default layout as specified in the configuration file. Creates a new layout file with a basic template if the file doesn't exist. After editing, validates the JSON syntax and reports any errors.
.TP
.B \-v, --version
Show the version number.
.TP
.B \-h, --help
Display this help message.

.SH SESSION NAMING
Session names are automatically generated with the following logic:
.TP
.B Custom session name provided
If a session name is specified, the format will be: \fBcustom_name_timestamp\fR
.TP
.B No session name provided
If no session name is specified, the current directory name will be used as the base name in the format: \fBdirectory_name_timestamp\fR
.TP
.B Example
For a directory named \fI/home/caesar/projects/wms/OrderService-Frontend\fR, the session name would be \fBOrderService-Frontend_1234567890\fR

.SH EXAMPLES
.TP
.B ./tlm -i node
Load the layout defined in 'node.json' with auto-generated session name based on current directory.
.TP
.B ./tlm -i node myproject
Load the layout defined in 'node.json' with session name 'myproject_timestamp'.
.TP
.B ./tlm -l
List all available layouts.
.TP
.B ./tlm -d
Show detailed information about all layouts and system configuration.
.TP
.B ./tlm -d node
Show detailed information about the 'node' layout, including window structure and configuration.
.TP
.B ./tlm -e
Edit the default layout using the configured editor.
.TP
.B ./tlm -e node
Edit the 'node' layout using the configured editor.
.TP
.B ./tlm -v
Show the version number.

.SH LAYOUT INSPECTION
The \fB--detail\fR flag provides comprehensive layout inspection capabilities:
.TP
.B System Information
Displays version, configuration directories, and default layout settings.
.TP
.B Layout Summary
Shows all available layouts with window count and validation status in tabular format.
.TP
.B Detailed Layout View
For specific layouts, shows:
.RS
.IP \(bu 2
Window titles and pane configurations
.IP \(bu 2
Split information (single pane vs multiple panes)
.IP \(bu 2
Raw JSON configuration for debugging
.IP \(bu 2
File validation status
.RE

.SH LAYOUT EDITING
The \fB--edit\fR flag provides layout editing capabilities:
.TP
.B Editor Selection
Uses the editor specified by DEFAULT_EDITOR in the configuration file, falling back to $VISUAL, $EDITOR, or vim in that order.
.TP
.B Auto-creation
Creates new layout files with a basic template if they don't exist.
.TP
.B Validation
Automatically validates JSON syntax after editing and reports any errors.
.TP
.B Template Structure
New layouts are created with a basic single-window template that can be modified as needed.

.SH CONFIGURATION
For configuration details, ensure your config file is located at:
.B $HOME/.config/tlm/setting.conf

Layout files should be placed in:
.B $HOME/.config/tlm/layouts/

Configuration options:
.TP
.B DEFAULT_LAYOUT
Specifies the default layout to load when none is provided to the --init flag.
.TP
.B DEFAULT_EDITOR
Specifies the default editor to use for the --edit flag. Falls back to $VISUAL, $EDITOR, or vim if not specified.

.SH FILES
.TP
.B $HOME/.config/tlm/setting.conf
Main configuration file containing DEFAULT_LAYOUT and DEFAULT_EDITOR settings.
.TP
.B $HOME/.config/tlm/layouts/*.json
Layout definition files in JSON format.
.SH LAYOUT FORMAT
Layout files are JSON arrays containing window objects:
.PP
.nf
.RS
[
  {
    "title": "editor"
  },
  {
    "title": "git + npm",
    "window_split": 2
  }
]
.RE
.fi
.PP
Each window object supports:
.TP
.B title
(Required) The name of the tmux window
.TP
.B window_split
(Optional) Number of horizontal panes to create in the window

.SH AUTHOR
Written by caesar003 - https://github.com/caesar003.

.SH LICENSE
This software is licensed under the MIT License.

.SH SEE ALSO
.BR tmux (1)
